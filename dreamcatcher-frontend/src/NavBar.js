import React, { useContext } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import { AuthContext } from './AuthContext';

const Logo = () => (
  <svg 
    viewBox="0 0 1554 413" 
    className="w-48 sm:w-96 h-auto text-gray-100"
    fill="currentColor"
  >
    {/* Text paths */}
    <path d="M472.03,248.95c-7.68,8.08-17.14,13.2-28.76,13.2-19.31,0-34.48-14.38-34.48-37.04s16.55-40.19,38.61-40.19c9.46,0,17.34,2.56,24.63,7.09v-35.46c0-2.76,2.36-4.93,4.92-4.93,2.76,0,4.93,2.17,4.93,4.93v100.67c0,2.76-2.17,4.93-4.93,4.93-2.56,0-4.92-2.36-4.92-4.93v-8.27ZM472.03,203.83c-7.29-5.71-14.78-9.06-24.63-9.06-16.55,0-28.76,12.81-28.76,30.34,0,16.15,10.44,27.19,24.62,27.19,13.2,0,22.06-7.49,28.76-18.32v-30.14Z"/>
    <path d="M516.75,189.84c0-2.76,2.36-4.93,4.93-4.93,2.76,0,4.92,2.17,4.92,4.93v11.62c10.24-10.84,22.26-16.35,33.1-16.35,2.76,0,4.73,1.97,4.73,4.53s-1.77,4.73-4.33,5.12c-15.37,1.97-25.22,10.05-33.49,22.66v39.8c0,2.76-2.17,4.93-4.92,4.93-2.56,0-4.93-2.36-4.93-4.93v-67.38Z"/>
    <path d="M603.62,184.92c20.69,0,31.91,14.78,31.91,26.4,0,9.46-4.73,17.34-21.08,17.34h-38.61c1.97,15.76,14.78,23.64,31.92,23.64,6.5,0,12.21-1.38,15.17-2.36,2.76-.99,3.35-1.18,3.94-1.18,2.56,0,4.93,2.36,4.93,4.93,0,1.97-1.18,3.74-3.15,4.53-5.52,2.17-13.2,3.94-20.88,3.94-25.22,0-41.96-13.59-41.96-37.63s16.94-39.6,37.83-39.6ZM614.66,218.8c7.88,0,11.23-2.76,11.23-7.49,0-8.08-8.87-16.55-22.26-16.55s-25.22,9.65-27.58,24.03h38.61Z"/>
    <path d="M677.5,262.15c-18.32,0-24.03-12.02-24.03-20.88,0-6.3,2.17-12.41,6.89-16.94,6.5-6.11,17.34-10.84,33.49-10.84,4.33,0,8.67.2,13.4.59-.98-11.82-7.68-19.31-21.28-19.31-5.32,0-11.43,1.18-14.38,2.17-1.58.59-3.15.99-3.74.99-2.56,0-5.12-2.36-5.12-4.73,0-2.17,1.18-4.14,3.35-4.93,4.53-1.38,12.8-3.35,19.9-3.35,21.47,0,31.32,13,31.32,31.92v17.93c0,9.06,1.97,14.58,5.91,18.91.98.99,1.38,2.17,1.38,3.35,0,2.76-2.37,4.93-4.93,4.93-1.38,0-2.56-.59-3.55-1.58-2.96-3.15-5.12-6.9-6.7-11.43-8.87,8.47-19.7,13.2-31.92,13.2ZM707.44,223.93c-4.92-.39-9.26-.59-13.59-.59-12.61,0-21.47,2.76-26.4,7.68-3.15,3.15-4.14,6.7-4.14,10.24,0,5.32,4.53,11.03,14.18,11.03,11.23,0,21.67-4.93,29.95-15.56v-12.81Z"/>
    <path d="M854.01,215.85c0-15.56-6.89-21.08-16.55-21.08s-19.31,6.3-26.79,14.58v47.87c0,2.76-2.17,4.93-4.92,4.93-2.56,0-4.93-2.36-4.93-4.93v-41.37c0-15.56-6.9-21.08-16.55-21.08s-19.5,6.9-27.19,15.17v47.28c0,2.76-2.17,4.93-4.92,4.93-2.56,0-4.93-2.36-4.93-4.93v-67.38c0-2.76,2.36-4.93,4.93-4.93,2.76,0,4.92,2.17,4.92,4.93v6.7c8.28-6.9,17.73-11.62,27.19-11.62,10.24,0,19.11,2.96,23.64,13.59,8.87-8.08,19.31-13.59,29.55-13.59,14.38,0,26.4,5.91,26.4,30.93v41.37c0,2.76-2.17,4.93-4.92,4.93-2.56,0-4.93-2.36-4.93-4.93v-41.37Z"/>
    <path d="M895.77,225.31c0,15.56,11.62,26.99,31.52,26.99,7.29,0,13-1.38,16.15-2.56,2.76-.99,3.35-1.18,3.94-1.18,2.56,0,4.93,2.36,4.93,4.93,0,1.97-1.18,3.74-3.15,4.53-5.91,2.36-13,4.14-21.87,4.14-26.99,0-41.37-16.55-41.37-36.84,0-23.25,15.17-40.39,41.57-40.39,6.3,0,13.4,1.18,19.11,3.15,2.17.79,3.35,2.76,3.35,4.93,0,2.36-2.56,4.73-5.12,4.73-.59,0-1.38-.2-3.55-.79-4.53-1.38-9.06-2.17-13.79-2.17-20.1,0-31.72,12.81-31.72,30.54Z"/>
    <path d="M990.53,262.15c-18.32,0-24.04-12.02-24.04-20.88,0-6.3,2.17-12.41,6.89-16.94,6.5-6.11,17.34-10.84,33.49-10.84,4.33,0,8.67.2,13.4.59-.98-11.82-7.68-19.31-21.28-19.31-5.32,0-11.43,1.18-14.38,2.17-1.58.59-3.15.99-3.74.99-2.56,0-5.12-2.36-5.12-4.73,0-2.17,1.18-4.14,3.35-4.93,4.53-1.38,12.8-3.35,19.9-3.35,21.47,0,31.32,13,31.32,31.92v17.93c0,9.06,1.97,14.58,5.91,18.91.98.99,1.38,2.17,1.38,3.35,0,2.76-2.36,4.93-4.93,4.93-1.38,0-2.56-.59-3.54-1.58-2.96-3.15-5.12-6.9-6.7-11.43-8.87,8.47-19.7,13.2-31.91,13.2ZM1020.47,223.93c-4.93-.39-9.26-.59-13.59-.59-12.61,0-21.47,2.76-26.4,7.68-3.15,3.15-4.14,6.7-4.14,10.24,0,5.32,4.53,11.03,14.19,11.03,11.23,0,21.67-4.93,29.95-15.56v-12.81Z"/>
    <path d="M1060.66,194.77h-12.41c-2.56,0-4.93-2.36-4.93-4.93,0-2.76,2.37-4.93,4.93-4.93h12.41v-19.9c0-2.76,2.36-4.93,4.92-4.93,2.76,0,4.93,2.17,4.93,4.93v19.9h26.2c2.76,0,4.93,2.17,4.93,4.93,0,2.56-2.17,4.93-4.93,4.93h-26.2v39.4c0,12.02,8.08,18.12,23.64,18.12,2.76,0,4.93,2.36,4.93,4.93,0,2.76-2.37,4.93-4.93,4.93-24.23,0-33.49-10.84-33.49-27.97v-39.4Z"/>
    <path d="M1123.3,225.31c0,15.56,11.62,26.99,31.52,26.99,7.29,0,13-1.38,16.15-2.56,2.76-.99,3.35-1.18,3.94-1.18,2.56,0,4.92,2.36,4.92,4.93,0,1.97-1.18,3.74-3.15,4.53-5.91,2.36-13,4.14-21.87,4.14-26.99,0-41.37-16.55-41.37-36.84,0-23.25,15.17-40.39,41.57-40.39,6.3,0,13.4,1.18,19.11,3.15,2.17.79,3.35,2.76,3.35,4.93,0,2.36-2.56,4.73-5.12,4.73-.59,0-1.38-.2-3.55-.79-4.53-1.38-9.06-2.17-13.79-2.17-20.09,0-31.72,12.81-31.72,30.54Z"/>
    <path d="M1264.35,217.82c0-16.15-6.7-23.05-17.14-23.05-11.03,0-21.28,6.9-29.55,15.17v47.28c0,2.76-2.17,4.93-4.92,4.93-2.56,0-4.93-2.36-4.93-4.93v-100.67c0-2.76,2.36-4.93,4.93-4.93,2.76,0,4.92,2.17,4.92,4.93v40.39c8.87-6.9,18.52-12.02,29.55-12.02,14.78,0,26.99,7.68,26.99,32.9v39.4c0,2.76-2.17,4.93-4.92,4.93-2.56,0-4.93-2.36-4.93-4.93v-39.4Z"/>    <path d="M1264.35,217.82c0-16.15-6.7-23.05-17.14-23.05-11.03,0-21.28,6.9-29.55,15.17v47.28c0,2.76-2.17,4.93-4.92,4.93-2.56,0-4.93-2.36-4.93-4.93v-100.67c0-2.76,2.36-4.93,4.93-4.93,2.76,0,4.92,2.17,4.92,4.93v40.39c8.87-6.9,18.52-12.02,29.55-12.02,14.78,0,26.99,7.68,26.99,32.9v39.4c0,2.76-2.17,4.93-4.92,4.93-2.56,0-4.93-2.36-4.93-4.93v-39.4Z"/>
    <path d="M1333.5,184.92c20.69,0,31.92,14.78,31.92,26.4,0,9.46-4.73,17.34-21.08,17.34h-38.61c1.97,15.76,14.78,23.64,31.91,23.64,6.5,0,12.21-1.38,15.17-2.36,2.76-.99,3.35-1.18,3.94-1.18,2.56,0,4.92,2.36,4.92,4.93,0,1.97-1.18,3.74-3.15,4.53-5.52,2.17-13.2,3.94-20.88,3.94-25.22,0-41.96-13.59-41.96-37.63s16.94-39.6,37.82-39.6ZM1344.53,218.8c7.88,0,11.23-2.76,11.23-7.49,0-8.08-8.87-16.55-22.26-16.55s-25.22,9.65-27.58,24.03h38.61Z"/>
    <path d="M1394.76,189.84c0-2.76,2.37-4.93,4.93-4.93,2.76,0,4.93,2.17,4.93,4.93v11.62c10.24-10.84,22.26-16.35,33.1-16.35,2.76,0,4.73,1.97,4.73,4.53s-1.77,4.73-4.33,5.12c-15.37,1.97-25.22,10.05-33.49,22.66v39.8c0,2.76-2.17,4.93-4.93,4.93-2.56,0-4.93-2.36-4.93-4.93v-67.38Z"/>
  </svg>
);

const NavBar = () => {
  const { authToken, logout } = useContext(AuthContext);
  const navigate = useNavigate();

  const handleLogout = async () => {
    await logout();
    navigate('/login');
    window.location.reload();
  };

  return (
    <nav className="flex items-center justify-between mb-8 p-3 bg-gray-800 shadow rounded"> {/* changed p-6 to p-3 */}
      {/* Left section */}
      <div className="w-16 sm:w-32"> {/* increased from w-24 for better balance */}
        {authToken ? (
          <Link to="/" className="text-blue-400 hover:text-blue-300 transition-colors">
            Home
          </Link>
        ) : (
          <Link to="/login" className="text-blue-400 hover:text-blue-300 transition-colors">
            Login
          </Link>
        )}
      </div>

      {/* Center section - Logo */}
      <div className="flex-1 flex justify-center max-w-[200px] sm:max-w-none"> {/* Added flex-1 and flex justify-center */}
        <Link to="/">
          <Logo />
        </Link>
      </div>

      {/* Right section */}
      <div className="w-16 sm:w-32 text-right"> {/* increased from w-24 for better balance */}
        {authToken ? (
          <button 
            onClick={handleLogout}
            className="text-red-400 hover:text-red-300 transition-colors text-sm sm:text-base"
          >
            Logout
          </button>
        ) : (
          <Link to="/register" className="text-blue-400 hover:text-blue-300 transition-colors text-sm sm:text-base">
            Register
          </Link>
        )}
      </div>
    </nav>
  );
};

export default NavBar;