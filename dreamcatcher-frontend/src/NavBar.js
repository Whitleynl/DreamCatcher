import React, { useContext } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import { AuthContext } from './AuthContext';

const Logo = () => (
  <div className="relative group">
      <svg id="a" data-name="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1554 413">
        <path d="M373.56,206.5c0-18.09-7.33-34.46-19.19-46.32,0-16.76-6.39-33.53-19.18-46.31s-29.55-19.18-46.32-19.18c-11.85-11.85-28.23-19.18-46.32-19.18s-34.46,7.33-46.32,19.18c-16.76,0-33.53,6.4-46.32,19.18-12.79,12.79-19.18,29.55-19.18,46.32-11.85,11.85-19.18,28.23-19.18,46.32s7.33,34.46,19.18,46.32c0,16.76,6.4,33.53,19.18,46.32,12.34,12.34,28.37,18.71,44.54,19.14,11.86,11.88,28.25,19.23,46.36,19.23s33.33-6.85,45.07-18c.59.02,1.17.04,1.76.04,16.76,0,33.53-6.39,46.32-19.18,12.8-12.8,19.2-29.59,19.18-46.37,12.57-11.93,20.42-28.79,20.42-47.49ZM326.3,201.16c-11.47-8.41-25.06-12.61-38.66-12.61-.02,0-.04,0-.06,0,10.31-9.77,17.46-22.84,19.71-37.53.25,0,.51-.02.76-.02,13.78,0,26.4,5.06,36.11,13.41-.97,12.77-6.31,25.27-16.05,35.02-.59.59-1.2,1.17-1.82,1.73ZM326.89,214.8c9.7,9.7,15.04,22.13,16.04,34.83-9.54,7.72-21.67,12.36-34.87,12.36-.84,0-1.68-.03-2.51-.06-2.17-14.08-8.82-26.68-18.46-36.29.59.02,1.19.04,1.78.04,13.04,0,26.07-3.89,37.24-11.62.26.25.52.49.78.74ZM296.32,272c0,14.32-5.46,27.4-14.4,37.25-12.66-1.29-24.4-6.84-33.52-15.96-.13-.13-.25-.26-.37-.39,9.13-11.77,13.71-25.92,13.71-40.08,9.22,9.22,21.18,15.68,34.55,18.11,0,.36.03.71.03,1.07ZM198.85,308.25c-8.42-9.73-13.53-22.4-13.53-36.25,0-.18.01-.36.01-.54,14.19-1.79,26.95-8.11,36.81-17.47-.01,13.62,4.2,27.25,12.63,38.75-9.77,9.44-22.41,14.9-35.93,15.52ZM157.55,213.04c11,8.08,23.96,12.26,36.99,12.6-9.64,9.62-16.3,22.24-18.46,36.33-13.41-.23-25.68-5.24-35.16-13.41.99-13.22,6.6-25.52,16.08-35,.18-.18.37-.35.55-.53ZM157,199.43c-9.47-9.47-15.08-21.77-16.08-35,9.72-8.36,22.34-13.43,36.14-13.43.26,0,.51.02.76.02,2.16,14.08,8.8,26.68,18.42,36.3-13.61,0-27.21,4.21-38.69,12.64-.18-.18-.37-.35-.55-.53ZM187.06,141c0-13.8,5.07-26.42,13.43-36.14,13.22.99,25.52,6.61,35,16.08.18.18.35.37.53.55-8.43,11.48-12.64,25.09-12.64,38.69-9.62-9.62-22.22-16.26-36.3-18.42,0-.25-.02-.51-.02-.76ZM284.63,104.86c8.36,9.72,13.43,22.34,13.43,36.14,0,.26-.02.51-.02.76-14.08,2.16-26.68,8.8-36.3,18.42,0-13.61-4.21-27.21-12.64-38.69.18-.18.35-.37.53-.55,9.47-9.47,21.77-15.08,35-16.08ZM225.37,233.78c-8.08,14.25-22.27,24.58-38.98,27.42,3.27-16.54,13.92-30.45,28.35-38.17,3.88-1.14,7.67-2.65,11.33-4.52,1.78-.49,3.59-.89,5.43-1.21-.36,1.82-.81,3.61-1.35,5.37-1.96,3.58-3.55,7.3-4.79,11.11ZM253.68,195.38c4.43-21.7,21.56-38.83,43.26-43.26-4.43,21.7-21.56,38.83-43.26,43.26ZM242.56,190.78c-1.92-2.9-3.56-5.95-4.89-9.14-.1-.25-.19-.49-.3-.74-2.61-6.5-3.99-13.5-3.99-20.72,0-11.05,3.21-21.6,9.18-30.6,12.22,18.48,12.22,42.71,0,61.19ZM231.44,195.38c-21.7-4.43-38.83-21.56-43.26-43.26,21.7,4.43,38.83,21.56,43.26,43.26ZM196.25,197.32c7.22,0,14.23,1.38,20.73,4,.24.1.48.19.72.29,3.19,1.34,6.25,2.97,9.15,4.9-1.42.94-2.88,1.82-4.38,2.62-4.01,1.17-7.85,2.71-11.5,4.58-4.74,1.3-9.68,1.98-14.73,1.98-11.05,0-21.6-3.21-30.6-9.18,9-5.97,19.55-9.18,30.6-9.18ZM234.58,237.86c1.94-3.55,3.55-7.3,4.81-11.21.91-1.6,1.9-3.17,2.99-4.69,12.73,19.01,12.44,44.21-.86,62.95-9.38-14.01-11.69-31.37-6.94-47.04ZM253.78,218.04c20.68,4.97,36.89,21.53,41.33,42.42-20.68-4.97-36.89-21.53-41.33-42.42ZM288.88,215.68c-10.91,0-21.32-3.13-30.25-8.96,8.65-5.32,18.61-8.18,29.02-8.18s21.32,3.13,30.25,8.96c-8.64,5.32-18.61,8.18-29.02,8.18ZM328.12,120.94c8.62,8.62,13.79,19.39,15.54,30.59-10.25-6.65-22.47-10.53-35.6-10.53,0-13.15-3.89-25.38-10.56-35.65,11.55,1.79,22.2,7.16,30.62,15.59ZM275.19,96.14c-11.96,2.54-23.34,8.44-32.63,17.73-9.29-9.29-20.67-15.18-32.63-17.73,9.17-6.68,20.44-10.64,32.63-10.64s23.46,3.96,32.63,10.64ZM157,120.94c8.42-8.42,19.07-13.79,30.62-15.59-6.67,10.26-10.56,22.5-10.56,35.65-13.15,0-25.38,3.89-35.65,10.56,1.79-11.55,7.16-22.2,15.58-30.62ZM121.56,206.5c0-12.19,3.96-23.46,10.64-32.62,2.54,11.95,8.44,23.34,17.73,32.62-9.29,9.29-15.18,20.67-17.73,32.62-6.68-9.16-10.64-20.44-10.64-32.62ZM157,292.06c-8.42-8.42-13.79-19.07-15.58-30.62,9.81,6.37,21.42,10.19,33.91,10.52,0,.01,0,.03,0,.04,0,13.01,3.81,25.12,10.34,35.31-10.79-2.07-20.72-7.3-28.66-15.25ZM240.82,327.5c-12.01,0-23.13-3.85-32.23-10.36,11.91-2.28,23.3-7.89,32.7-16.81.01.01.02.02.03.03,8.84,8.84,19.59,14.62,30.91,17.35-8.94,6.17-19.76,9.79-31.42,9.79ZM326.89,293.29c-8.77,8.77-19.97,14.23-32.08,15.78,7.25-10.54,11.51-23.31,11.51-37.07,0-.01,0-.03,0-.04.58.02,1.16.04,1.74.04,12.64,0,24.45-3.59,34.46-9.8-1.68,11.38-6.88,22.35-15.63,31.09ZM333.96,207.73s-.02-.02-.03-.03c.42-.4.85-.79,1.26-1.2,9.29-9.29,15.18-20.67,17.73-32.63,6.68,9.17,10.64,20.44,10.64,32.63,0,12.88-4.42,24.73-11.81,34.16-2.51-12.07-8.43-23.56-17.79-32.93Z" fill="#e6e6e6"/>
        <g>
          <path d="M472.03,248.95c-7.68,8.08-17.14,13.2-28.76,13.2-19.31,0-34.48-14.38-34.48-37.04s16.55-40.19,38.61-40.19c9.46,0,17.34,2.56,24.63,7.09v-35.46c0-2.76,2.36-4.93,4.92-4.93,2.76,0,4.93,2.17,4.93,4.93v100.67c0,2.76-2.17,4.93-4.93,4.93-2.56,0-4.92-2.36-4.92-4.93v-8.27ZM472.03,203.83c-7.29-5.71-14.78-9.06-24.63-9.06-16.55,0-28.76,12.81-28.76,30.34,0,16.15,10.44,27.19,24.62,27.19,13.2,0,22.06-7.49,28.76-18.32v-30.14Z" fill="#e6e6e6"/>
          <path d="M516.75,189.84c0-2.76,2.36-4.93,4.93-4.93,2.76,0,4.92,2.17,4.92,4.93v11.62c10.24-10.84,22.26-16.35,33.1-16.35,2.76,0,4.73,1.97,4.73,4.53s-1.77,4.73-4.33,5.12c-15.37,1.97-25.22,10.05-33.49,22.66v39.8c0,2.76-2.17,4.93-4.92,4.93-2.56,0-4.93-2.36-4.93-4.93v-67.38Z" fill="#e6e6e6"/>
          <path d="M603.62,184.92c20.69,0,31.91,14.78,31.91,26.4,0,9.46-4.73,17.34-21.08,17.34h-38.61c1.97,15.76,14.78,23.64,31.92,23.64,6.5,0,12.21-1.38,15.17-2.36,2.76-.99,3.35-1.18,3.94-1.18,2.56,0,4.93,2.36,4.93,4.93,0,1.97-1.18,3.74-3.15,4.53-5.52,2.17-13.2,3.94-20.88,3.94-25.22,0-41.96-13.59-41.96-37.63s16.94-39.6,37.83-39.6ZM614.66,218.8c7.88,0,11.23-2.76,11.23-7.49,0-8.08-8.87-16.55-22.26-16.55s-25.22,9.65-27.58,24.03h38.61Z" fill="#e6e6e6"/>
          <path d="M677.5,262.15c-18.32,0-24.03-12.02-24.03-20.88,0-6.3,2.17-12.41,6.89-16.94,6.5-6.11,17.34-10.84,33.49-10.84,4.33,0,8.67.2,13.4.59-.98-11.82-7.68-19.31-21.28-19.31-5.32,0-11.43,1.18-14.38,2.17-1.58.59-3.15.99-3.74.99-2.56,0-5.12-2.36-5.12-4.73,0-2.17,1.18-4.14,3.35-4.93,4.53-1.38,12.8-3.35,19.9-3.35,21.47,0,31.32,13,31.32,31.92v17.93c0,9.06,1.97,14.58,5.91,18.91.98.99,1.38,2.17,1.38,3.35,0,2.76-2.37,4.93-4.93,4.93-1.38,0-2.56-.59-3.55-1.58-2.96-3.15-5.12-6.9-6.7-11.43-8.87,8.47-19.7,13.2-31.92,13.2ZM707.44,223.93c-4.92-.39-9.26-.59-13.59-.59-12.61,0-21.47,2.76-26.4,7.68-3.15,3.15-4.14,6.7-4.14,10.24,0,5.32,4.53,11.03,14.18,11.03,11.23,0,21.67-4.93,29.95-15.56v-12.81Z" fill="#e6e6e6"/>
          <path d="M854.01,215.85c0-15.56-6.89-21.08-16.55-21.08s-19.31,6.3-26.79,14.58v47.87c0,2.76-2.17,4.93-4.92,4.93-2.56,0-4.93-2.36-4.93-4.93v-41.37c0-15.56-6.9-21.08-16.55-21.08s-19.5,6.9-27.19,15.17v47.28c0,2.76-2.17,4.93-4.92,4.93-2.56,0-4.93-2.36-4.93-4.93v-67.38c0-2.76,2.36-4.93,4.93-4.93,2.76,0,4.92,2.17,4.92,4.93v6.7c8.28-6.9,17.73-11.62,27.19-11.62,10.24,0,19.11,2.96,23.64,13.59,8.87-8.08,19.31-13.59,29.55-13.59,14.38,0,26.4,5.91,26.4,30.93v41.37c0,2.76-2.17,4.93-4.92,4.93-2.56,0-4.93-2.36-4.93-4.93v-41.37Z" fill="#e6e6e6"/>
          <path d="M895.77,225.31c0,15.56,11.62,26.99,31.52,26.99,7.29,0,13-1.38,16.15-2.56,2.76-.99,3.35-1.18,3.94-1.18,2.56,0,4.93,2.36,4.93,4.93,0,1.97-1.18,3.74-3.15,4.53-5.91,2.36-13,4.14-21.87,4.14-26.99,0-41.37-16.55-41.37-36.84,0-23.25,15.17-40.39,41.57-40.39,6.3,0,13.4,1.18,19.11,3.15,2.17.79,3.35,2.76,3.35,4.93,0,2.36-2.56,4.73-5.12,4.73-.59,0-1.38-.2-3.55-.79-4.53-1.38-9.06-2.17-13.79-2.17-20.1,0-31.72,12.81-31.72,30.54Z" fill="#e6e6e6"/>
          <path d="M990.53,262.15c-18.32,0-24.04-12.02-24.04-20.88,0-6.3,2.17-12.41,6.89-16.94,6.5-6.11,17.34-10.84,33.49-10.84,4.33,0,8.67.2,13.4.59-.98-11.82-7.68-19.31-21.28-19.31-5.32,0-11.43,1.18-14.38,2.17-1.58.59-3.15.99-3.74.99-2.56,0-5.12-2.36-5.12-4.73,0-2.17,1.18-4.14,3.35-4.93,4.53-1.38,12.8-3.35,19.9-3.35,21.47,0,31.32,13,31.32,31.92v17.93c0,9.06,1.97,14.58,5.91,18.91.98.99,1.38,2.17,1.38,3.35,0,2.76-2.36,4.93-4.93,4.93-1.38,0-2.56-.59-3.54-1.58-2.96-3.15-5.12-6.9-6.7-11.43-8.87,8.47-19.7,13.2-31.91,13.2ZM1020.47,223.93c-4.93-.39-9.26-.59-13.59-.59-12.61,0-21.47,2.76-26.4,7.68-3.15,3.15-4.14,6.7-4.14,10.24,0,5.32,4.53,11.03,14.19,11.03,11.23,0,21.67-4.93,29.95-15.56v-12.81Z" fill="#e6e6e6"/>
          <path d="M1060.66,194.77h-12.41c-2.56,0-4.93-2.36-4.93-4.93,0-2.76,2.37-4.93,4.93-4.93h12.41v-19.9c0-2.76,2.36-4.93,4.92-4.93,2.76,0,4.93,2.17,4.93,4.93v19.9h26.2c2.76,0,4.93,2.17,4.93,4.93,0,2.56-2.17,4.93-4.93,4.93h-26.2v39.4c0,12.02,8.08,18.12,23.64,18.12,2.76,0,4.93,2.36,4.93,4.93,0,2.76-2.37,4.93-4.93,4.93-24.23,0-33.49-10.84-33.49-27.97v-39.4Z" fill="#e6e6e6"/>
          <path d="M1123.3,225.31c0,15.56,11.62,26.99,31.52,26.99,7.29,0,13-1.38,16.15-2.56,2.76-.99,3.35-1.18,3.94-1.18,2.56,0,4.92,2.36,4.92,4.93,0,1.97-1.18,3.74-3.15,4.53-5.91,2.36-13,4.14-21.87,4.14-26.99,0-41.37-16.55-41.37-36.84,0-23.25,15.17-40.39,41.57-40.39,6.3,0,13.4,1.18,19.11,3.15,2.17.79,3.35,2.76,3.35,4.93,0,2.36-2.56,4.73-5.12,4.73-.59,0-1.38-.2-3.55-.79-4.53-1.38-9.06-2.17-13.79-2.17-20.09,0-31.72,12.81-31.72,30.54Z" fill="#e6e6e6"/>
          <path d="M1264.35,217.82c0-16.15-6.7-23.05-17.14-23.05-11.03,0-21.28,6.9-29.55,15.17v47.28c0,2.76-2.17,4.93-4.92,4.93-2.56,0-4.93-2.36-4.93-4.93v-100.67c0-2.76,2.36-4.93,4.93-4.93,2.76,0,4.92,2.17,4.92,4.93v40.39c8.87-6.9,18.52-12.02,29.55-12.02,14.78,0,26.99,7.68,26.99,32.9v39.4c0,2.76-2.17,4.93-4.92,4.93-2.56,0-4.93-2.36-4.93-4.93v-39.4Z" fill="#e6e6e6"/>
          <path d="M1333.5,184.92c20.69,0,31.92,14.78,31.92,26.4,0,9.46-4.73,17.34-21.08,17.34h-38.61c1.97,15.76,14.78,23.64,31.91,23.64,6.5,0,12.21-1.38,15.17-2.36,2.76-.99,3.35-1.18,3.94-1.18,2.56,0,4.92,2.36,4.92,4.93,0,1.97-1.18,3.74-3.15,4.53-5.52,2.17-13.2,3.94-20.88,3.94-25.22,0-41.96-13.59-41.96-37.63s16.94-39.6,37.82-39.6ZM1344.53,218.8c7.88,0,11.23-2.76,11.23-7.49,0-8.08-8.87-16.55-22.26-16.55s-25.22,9.65-27.58,24.03h38.61Z" fill="#e6e6e6"/>
          <path d="M1394.76,189.84c0-2.76,2.37-4.93,4.93-4.93,2.76,0,4.93,2.17,4.93,4.93v11.62c10.24-10.84,22.26-16.35,33.1-16.35,2.76,0,4.73,1.97,4.73,4.53s-1.77,4.73-4.33,5.12c-15.37,1.97-25.22,10.05-33.49,22.66v39.8c0,2.76-2.17,4.93-4.93,4.93-2.56,0-4.93-2.36-4.93-4.93v-67.38Z" fill="#e6e6e6"/>
        </g>
      </svg>
    <div className="absolute inset-0 -z-10 bg-blue-500/0 group-hover:bg-blue-500/5 
                    rounded-full blur-xl transition-all duration-500 
                    scale-0 group-hover:scale-150"></div>
  </div>
);

const NavBar = () => {
  const { authToken, logout } = useContext(AuthContext);
  const navigate = useNavigate();

  const handleLogout = async () => {
    await logout();
    navigate('/login');
    window.location.reload();
  };

  return (
    <nav className="flex items-center justify-between mb-8 p-6 bg-gray-800 shadow rounded">
      {/* Left section */}
      <div className="w-24">
        {authToken ? (
          <Link to="/" className="text-blue-400 hover:text-blue-300 transition-colors">
            Home
          </Link>
        ) : (
          <Link to="/login" className="text-blue-400 hover:text-blue-300 transition-colors">
            Login
          </Link>
        )}
      </div>

      {/* Center section - Logo */}
      <Link to="/" className="flex justify-center items-center py-2">
        <Logo />
      </Link>

      {/* Right section */}
      <div className="w-24 text-right">
        {authToken ? (
          <button 
            onClick={handleLogout}
            className="text-red-400 hover:text-red-300 transition-colors"
          >
            Logout
          </button>
        ) : (
          <Link to="/register" className="text-blue-400 hover:text-blue-300 transition-colors">
            Register
          </Link>
        )}
      </div>
    </nav>
  );
};

export default NavBar;